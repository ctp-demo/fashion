import{u as S,r as y,k as F,l as z,a as $,m as L,c as A,w as O,b as s,d as e,g as r,h as p,n as P,q as m,v as g,e as o,s as H,i as n,t as u,F as q,y as U,f as b}from"./app-99513220.js";import{_ as W}from"./Layout-61dc6c62.js";import{d as Y}from"./debounce-823fcc0a.js";import{_ as x}from"./ImageUploader-3ca64e71.js";import{a as G}from"./index-dca72a42.js";import{_ as J}from"./Pagination-2a74e1d8.js";import{u as K}from"./useAction-799874c3.js";import"./SideNav.vue_vue_type_style_index_1_scoped_d3198c53_lang-c8ddfb98.js";import"./useDataStore-d37a8ed6.js";import"./_baseGetTag-92f65be8.js";const Q={class:"content-header row mb-1"},R={class:"col-12 d-flex align-items-center justify-content-between"},X=e("h2",{class:"float-start mb-0"},"Category List",-1),Z={class:"btn btn-sm btn-gradient-primary d-flex align-items-center",type:"button","data-bs-toggle":"modal","data-bs-target":"#addItemModal"},ee=e("span",null,"Add New Category",-1),te={class:"app-user-list"},se={class:"card"},oe={class:"card-datatable table-responsive pt-0 px-2"},le={class:"d-flex align-items-center justify-content-between border-bottom"},ne={class:"select-search-area d-flex align-items-center"},ae=e("option",{value:void 0},"10",-1),ie=e("option",{value:"25"},"25",-1),re=e("option",{value:"50"},"50",-1),de=e("option",{value:"100"},"100",-1),ce=[ae,ie,re,de],ue={class:"d-flex align-items-center justify-content-center justify-content-lg-end flex-lg-nowrap flex-wrap"},_e={class:"select-search-area"},me={class:"category-list-table table"},be=e("thead",{class:"table-light"},[e("tr",{class:"null"},[e("th",{class:"sorting"},"Id"),e("th",{class:"sorting"},"name"),e("th",{class:"sorting"},"icon"),e("th",{class:"sorting"},"banner"),e("th",{class:"sorting"},"Created At"),e("th",{class:"sorting"},"Status"),e("th",{class:"sorting"})])],-1),pe=["onDblclick"],he={key:0,class:"d-flex align-items-center"},ve={class:"text-info",style:{"margin-left":"5px"}},fe={key:1,class:"text-capitalize"},ge=["src"],ye={key:1},xe=["src"],ke={key:1},we=["onClick"],Ve=["onClick"],Ie={class:"modal modal-slide-in fade",id:"addItemModal","aria-hidden":"true"},Ce={class:"modal-dialog"},Se={class:"modal-content p-0"},$e=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},"×",-1),Le=e("div",{class:"modal-header mb-1"},[e("h5",{class:"modal-title"},[e("span",{class:"align-middle"},"Add new category")])],-1),Ue={class:"modal-body flex-grow-1"},je=["onSubmit"],Te={class:"mb-1"},Be=e("label",{class:"form-label"},"Title",-1),Ee={key:0,class:"text-danger"},Me={class:"mb-1"},Ne=e("label",null,"Order Number",-1),De={key:0,class:"text-danger"},Fe={class:"mb-1"},ze=e("label",null,"Icon Image",-1),Ae={key:0,class:"text-danger"},Oe={class:"mb-1"},Pe=e("label",null,"Banner Image",-1),He={key:0,class:"text-danger"},qe={class:"d-flex flex-wrap mb-0"},We={key:0,type:"submit",class:"btn btn-primary"},Ye={key:1,class:"btn btn-primary",type:"button",disabled:""},Ge=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Je=e("button",{type:"reset",class:"btn btn-outline-secondary ms-1"},"Cancel",-1),Ke={class:"modal modal-slide-in fade",id:"editItemModal","aria-hidden":"true"},Qe={class:"modal-dialog"},Re={class:"modal-content p-0"},Xe=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},"×",-1),Ze=e("div",{class:"modal-header mb-1"},[e("h5",{class:"modal-title"},[e("span",{class:"align-middle"},"Edit Category")])],-1),et={class:"modal-body flex-grow-1"},tt=["onSubmit"],st={class:"mb-1"},ot=e("label",{class:"form-label"},"Title",-1),lt={key:0,class:"text-danger"},nt={class:"mb-1"},at=e("label",null,"Order Number",-1),it={key:0,class:"text-danger"},rt={class:"mb-1"},dt=e("label",null,"Icon Image",-1),ct=["src"],ut={key:1,class:"text-danger"},_t={class:"mb-1"},mt=e("label",null,"Banner Image",-1),bt=["src"],pt={key:1,class:"text-danger"},ht={class:"d-flex flex-wrap mb-0"},vt={key:0,type:"submit",class:"btn btn-primary"},ft={key:1,class:"btn btn-primary",type:"button",disabled:""},gt=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),yt=e("button",{type:"reset",class:"btn btn-outline-secondary ms-1"},"Cancel",-1),jt={__name:"Index",props:{categories:[]|null,parent_categories:[]|null,main_url:String|null,errors:Object|null,filters:Object},setup(v){const a=v,{deleteItem:j,copyToClipboard:T}=K();let _=S({title:null,parent_id:null,order_level:null,type:null,icon:null,banner:null}),i=S({id:null,title:null,parent_id:null,order_level:null,type:null,icon:null,banner:null});const h=y(!1),V=y(null),B=()=>{V.value=null,_.post(a.main_url,{preserveState:!0,replace:!0,onStart:c=>{console.log("res "+c),h.value=!0},onSuccess:c=>{document.getElementById("addItemModal").$vb.modal.hide(),h.value=!1,_.reset(),$sToast.fire({icon:"success",title:"Signed in successfully"})},onError:c=>{h.value=!1,$toast.error("Validation Errors...")}})},E=(c,l)=>{V.value=null,G.get(`${a.main_url}/${c}`).then(d=>{i.id=d.data.id,i.title=d.data.title,i.parent_id=d.data.parent_id,i.order_level=d.data.order_level,i.type=d.data.type,i.icon=d.data.icon,i.banner=d.data.banner,document.getElementById("editItemModal").$vb.modal.show()}).catch(d=>{$toast.error(d.message)})},M=()=>{i.post(a.main_url+"/update-with-files/"+i.id,{preserveState:!0,replace:!0,onStart:c=>{console.log("res "+c)},onSuccess:c=>{document.getElementById("editItemModal").$vb.modal.hide(),h.value=!1,_.reset(),$sToast.fire({icon:"success",title:"Category create successfully"})},onError:c=>{h.value=!1,$toast.error("Validation Errors...")}})},k=y(),w=y();return F([k,w],Y(function([c,l]){z.Inertia.get(a.main_url,{search:c,perPage:l},{preserveState:!0,replace:!0})},300)),(c,l)=>{const d=$("vue-feather"),f=$("info"),N=L("c-tooltip"),I=L("vb-is");return s(),A(W,null,{default:O(()=>[e("div",Q,[e("div",R,[X,e("button",Z,[r(d,{type:"plus",size:"15"}),ee])])]),e("section",te,[e("div",se,[e("div",oe,[e("div",le,[e("div",ne,[p(e("select",{class:"form-select","onUpdate:modelValue":l[0]||(l[0]=t=>w.value=t)},ce,512),[[P,w.value]])]),e("div",ue,[e("div",_e,[e("label",null,[m("Search "),p(e("input",{"onUpdate:modelValue":l[1]||(l[1]=t=>k.value=t),type:"search",class:"form-control",placeholder:"What You Find ?","aria-controls":"DataTables_Table_0"},null,512),[[g,k.value]])])])])]),e("table",me,[be,e("tbody",null,[(s(!0),o(q,null,H(v.categories.data,(t,D)=>(s(),o("tr",{key:t.id,onDblclick:C=>n(T)(t.slug)},[e("td",null,"#_"+u(D+1),1),e("td",null,[t.childrens_count>0?(s(),o("span",he,[m(u(t.title)+" ",1),p((s(),o("span",ve,[r(d,{type:"info",size:"15"})])),[[N,`${t.childrens_count} Child In This Category.`]])])):(s(),o("span",fe,u(t.title),1))]),e("td",null,[t.icon?(s(),o("img",{key:0,src:t.icon,alt:"",style:{"object-fit":"contain",width:"100%",height:"50px"}},null,8,ge)):(s(),o("span",ye,"---"))]),e("td",null,[t.banner?(s(),o("img",{key:0,src:t.banner,alt:"",style:{width:"100px","object-fit":"contain"}},null,8,xe)):(s(),o("span",ke,"---"))]),e("td",null,u(t.created_at),1),e("td",null,[e("span",{class:"text-primary cursor-pointer",onClick:C=>E(t.id,"edit")},[r(d,{type:"edit",size:"15"})],8,we),e("span",{class:"text-danger cursor-pointer ms-1",onClick:C=>n(j)(a.main_url,t.id)},[r(d,{type:"trash",size:"15"})],8,Ve)])],40,pe))),128))])]),r(J,{links:v.categories.links,from:v.categories.from,to:v.categories.to,total:v.categories.total},null,8,["links","from","to","total"])])])]),p((s(),o("div",Ie,[e("div",Ce,[e("div",Se,[$e,Le,e("div",Ue,[e("form",{onSubmit:U(B,["prevent"])},[e("div",Te,[Be,p(e("input",{class:"form-control readonly","onUpdate:modelValue":l[2]||(l[2]=t=>n(_).title=t),type:"text",placeholder:"e.g latest faction"},null,512),[[g,n(_).title]]),a.errors.title?(s(),o("span",Ee,u(a.errors.title),1)):b("",!0)]),e("div",Me,[Ne,m(),r(f,{title:"Low number order level coming first"}),p(e("input",{type:"number","onUpdate:modelValue":l[3]||(l[3]=t=>n(_).order_level=t),class:"form-control",placeholder:"Low Number Height Priority"},null,512),[[g,n(_).order_level]]),a.errors.order_level?(s(),o("span",De,u(a.errors.order_level),1)):b("",!0)]),e("div",Fe,[ze,m(),r(f,{title:"Low number order level coming first"}),r(x,{modelValue:n(_).icon,"onUpdate:modelValue":l[4]||(l[4]=t=>n(_).icon=t)},null,8,["modelValue"]),a.errors.icon?(s(),o("span",Ae,u(a.errors.icon),1)):b("",!0)]),e("div",Oe,[Pe,m(),r(f,{title:"Low number order level coming first"}),r(x,{modelValue:n(_).banner,"onUpdate:modelValue":l[5]||(l[5]=t=>n(_).banner=t)},null,8,["modelValue"]),a.errors.banner?(s(),o("span",He,u(a.errors.banner),1)):b("",!0)]),e("div",qe,[h.value?(s(),o("button",Ye,[Ge,m(" Loading... ")])):(s(),o("button",We,"Submit")),Je])],40,je)])])])])),[[I,void 0,"modal"]]),p((s(),o("div",Ke,[e("div",Qe,[e("div",Re,[Xe,Ze,e("div",et,[e("form",{onSubmit:U(M,["prevent"])},[e("div",st,[ot,p(e("input",{class:"form-control readonly","onUpdate:modelValue":l[6]||(l[6]=t=>n(i).title=t),type:"text",placeholder:"e.g latest faction"},null,512),[[g,n(i).title]]),a.errors.title?(s(),o("span",lt,u(a.errors.title),1)):b("",!0)]),e("div",nt,[at,m(),r(f,{title:"Low number order level coming first"}),p(e("input",{type:"number","onUpdate:modelValue":l[7]||(l[7]=t=>n(i).order_level=t),class:"form-control",placeholder:"Low Number Height Priority"},null,512),[[g,n(i).order_level]]),a.errors.order_level?(s(),o("span",it,u(a.errors.order_level),1)):b("",!0)]),e("div",rt,[dt,m(),r(f,{title:"Low number order level coming first"}),r(x,{modelValue:n(i).icon,"onUpdate:modelValue":l[8]||(l[8]=t=>n(i).icon=t)},null,8,["modelValue"]),typeof n(i).icon=="string"?(s(),o("img",{key:0,src:n(i).icon,width:"50",height:"50",style:{"object-fit":"contain"},alt:""},null,8,ct)):b("",!0),a.errors.icon?(s(),o("span",ut,u(a.errors.icon),1)):b("",!0)]),e("div",_t,[mt,m(),r(f,{title:"Low number order level coming first"}),r(x,{modelValue:n(i).banner,"onUpdate:modelValue":l[9]||(l[9]=t=>n(i).banner=t)},null,8,["modelValue"]),typeof n(i).banner=="string"?(s(),o("img",{key:0,src:n(i).banner,width:"100",height:"70",style:{"object-fit":"contain"},alt:""},null,8,bt)):b("",!0),a.errors.banner?(s(),o("span",pt,u(a.errors.banner),1)):b("",!0)]),e("div",ht,[h.value?(s(),o("button",ft,[gt,m(" Loading... ")])):(s(),o("button",vt,"Update")),yt])],40,tt)])])])])),[[I,void 0,"modal"]])]),_:1})}}};export{jt as default};
