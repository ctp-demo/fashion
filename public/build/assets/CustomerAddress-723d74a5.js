import{_ as B,r as D,u as N,a as x,m as U,e as i,g as _,w as v,h,c as j,F as w,b as n,d as e,f as p,s as T,t as a,i as d,y as F,v as f,p as M,j as z,q as k}from"./app-99513220.js";import L from"./Layout-bcba98b8.js";/* empty css                 */import"./useDataStore-d37a8ed6.js";import"./MainFooter-e46f7cea.js";import"./Layout-f01ab17d.js";import"./_baseGetTag-92f65be8.js";import"./useCartStore-c4d05e33.js";import"./UserImageWithUpload-27151807.js";import"./DropdownNav-34645a4b.js";import"./index.esm-764d8875.js";import"./index-dca72a42.js";import{_ as O}from"./Modal-551bbec2.js";/* empty css                                                               */import{u as P}from"./useAction-799874c3.js";import"./debounce-823fcc0a.js";const c=m=>(M("data-v-34b1e9c0"),m=m(),z(),m),q={class:"d-flex align-items-center justify-content-between"},H={class:"d-flex align-items-center gap-1"},G={href:"/dashboard"},J=c(()=>e("h1",{class:"text-black fw-semibold"},"Address Book",-1)),K={class:"row mt-5"},Q={class:"col-md-6"},R={class:"card page-shadow"},W={class:"card-body"},X={class:"d-flex align-items-center justify-content-between mb-2"},Y={class:"mb-0"},Z={class:"btn-group dropstart float-end"},ee={class:"btn btn-icon float-end btn-sm btn-default border-1 border-primary rounded-circle text-primary",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},se={class:"dropdown-menu p-0 dropstart","aria-labelledby":"dropdownMenuButton"},te=["onClick"],oe=c(()=>e("span",{class:"ms-1"},"Edit",-1)),ae=["onClick"],re=c(()=>e("span",{class:"ms-1"},"Delete",-1)),de={class:"modal-body"},le=["onSubmit"],ne=c(()=>e("label",null,"Address Title",-1)),ie={key:0,class:"text-danger"},ce={class:"mt-1"},pe=c(()=>e("label",null,"Select Area",-1)),ue={class:"d-flex align-items-start py-1"},_e={class:"d-flex align-items-center justify-content-between w-100"},me={class:"me-1 d-flex flex-column"},he={class:"mb-25"},be={key:0,class:"text-danger"},fe={class:"mt-1"},ve=c(()=>e("label",null,[k("Email "),e("span",{class:"text-secondary"},"(optional)")],-1)),ye={key:0,class:"text-danger"},ge={class:"mt-1"},xe=c(()=>e("label",null,[k("Phone "),e("span",{class:"text-secondary"},"(optional)")],-1)),we={key:0,class:"text-danger"},ke={class:"mt-1"},Ae=c(()=>e("label",null,"Full Address",-1)),Ce={key:0,class:"text-danger"},Ie={type:"submit",class:"btn float-end btn-sm btn-primary mt-1"},Se=c(()=>e("button",{type:"reset",class:"btn float-end btn-sm bg-danger mt-1 me-1 text-white","data-bs-dismiss":"modal","aria-label":"Close"}," close ",-1)),Ee={__name:"CustomerAddress",props:{aries:null,addresses:null,main_url:null,errors:Object|null},setup(m){const o=m,{deleteItem:A}=P(),u=D(!1),C=()=>{u.value=!1,document.getElementById("addItem").$vb.modal.show()},t=N({title:null,area:null,email:null,phone:null,address:null,isPrimary:null,id:null}),I=()=>{u.value?t.put(`${o.main_url}/${t.id}`,{preserveState:!0,replace:!0,onSuccess:r=>{document.getElementById("addItem").$vb.modal.hide(),t.reset(),u.value=!1,$sToast.fire({icon:"success",title:"Address Updated."})},onError:r=>{$toast.error("Validation Errors...")}}):t.post(o.main_url,{preserveState:!0,replace:!0,onSuccess:r=>{document.getElementById("addItem").$vb.modal.hide(),t.reset(),$sToast.fire({icon:"success",title:"Address Created."})},onError:r=>{$toast.error("Validation Errors...")}})},S=r=>{u.value=!0,t.title=r.title,t.area=r.order_area_id,t.email=r.email,t.phone=r.phone,t.address=r.address,t.id=r.id,document.getElementById("addItem").$vb.modal.show()};return(r,l)=>{const b=x("vue-feather"),E=x("vSelect"),V=U("vb-is");return n(),i(w,null,[_(L,null,{default:v(()=>[e("div",q,[e("div",H,[e("a",G,[_(b,{class:"text-black",type:"arrow-left"})]),J]),o.addresses.length<5?(n(),i("button",{key:0,class:"btn btn-primary mt-2",onClick:C}," Add New Address ")):p("",!0)]),e("div",K,[o.addresses?(n(!0),i(w,{key:0},T(o.addresses,s=>{var y,g;return n(),i("div",Q,[e("div",R,[e("div",W,[e("div",X,[e("h2",null,a(s==null?void 0:s.title),1)]),e("p",null,a(s==null?void 0:s.address),1),e("p",Y,a(s==null?void 0:s.email),1),e("p",null,a(s==null?void 0:s.phone),1),e("p",null,"Area: "+a((y=s==null?void 0:s.order_area)==null?void 0:y.area_name)+" & Delivery Charge: "+a((g=s==null?void 0:s.order_area)==null?void 0:g.delivery_charge),1),e("div",Z,[e("button",ee,[_(b,{type:"more-horizontal"})]),e("div",se,[e("a",{href:"#",class:"dropdown-item d-flex align-items-center text-info w-100",onClick:$=>S(s),type:"button"},[_(b,{type:"edit",size:"15"}),oe],8,te),e("button",{class:"dropdown-item d-flex align-items-center text-danger w-100",type:"button",onClick:$=>d(A)(o.main_url,s==null?void 0:s.id)},[_(b,{type:"trash",size:"15"}),re],8,ae)])])])])])}),256)):p("",!0)])]),_:1}),h((n(),j(O,{id:"addItem",title:u.value?"Edit Address":"Add New Address"},{default:v(()=>[e("div",de,[e("form",{onSubmit:F(I,["prevent"])},[e("div",null,[ne,h(e("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=s=>d(t).title=s),placeholder:"e.g Home / Office address"},null,512),[[f,d(t).title]]),o.errors.title?(n(),i("span",ie,a(o.errors.title),1)):p("",!0)]),e("div",ce,[pe,_(E,{options:o.aries,modelValue:d(t).area,"onUpdate:modelValue":l[1]||(l[1]=s=>d(t).area=s),reduce:s=>s.id,label:"area_name",placeholder:"e.g select area"},{option:v(s=>[e("li",ue,[e("div",_e,[e("div",me,[e("h6",he,a(s.area_name),1)])])])]),_:1},8,["options","modelValue","reduce"]),o.errors.area?(n(),i("span",be,a(o.errors.area),1)):p("",!0)]),e("div",fe,[ve,h(e("input",{type:"email","onUpdate:modelValue":l[2]||(l[2]=s=>d(t).email=s),placeholder:"e.g shipping email.",class:"form-control"},null,512),[[f,d(t).email]]),o.errors.email?(n(),i("span",ye,a(o.errors.email),1)):p("",!0)]),e("div",ge,[xe,h(e("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=s=>d(t).phone=s),placeholder:"e.g shipping phone number.",class:"form-control"},null,512),[[f,d(t).phone]]),o.errors.phone?(n(),i("span",we,a(o.errors.phone),1)):p("",!0)]),e("div",ke,[Ae,h(e("textarea",{"onUpdate:modelValue":l[4]||(l[4]=s=>d(t).address=s),class:"form-control",placeholder:"e.g full address"},null,512),[[f,d(t).address]]),o.errors.address?(n(),i("span",Ce,a(o.errors.address),1)):p("",!0)]),e("button",Ie,a(u.value?"Update":"Save"),1),Se],40,le)])]),_:1},8,["title"])),[[V,void 0,"modal"]])],64)}}},Ge=B(Ee,[["__scopeId","data-v-34b1e9c0"]]);export{Ge as default};
