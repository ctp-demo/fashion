import{r as h,k as x,l as k,a as w,m as N,c as S,w as C,b as s,d as t,g as n,h as p,n as D,q as m,v as T,e as l,s as V,t as i,f as $,i as v,F as j}from"./app-99513220.js";import{_ as A}from"./Layout-61dc6c62.js";import{d as I}from"./debounce-823fcc0a.js";import"./index-dca72a42.js";import{_ as B}from"./Pagination-2a74e1d8.js";import{u as z}from"./useAction-799874c3.js";import{h as F}from"./moment-fbc5633a.js";/* empty css                                                               */import"./SideNav.vue_vue_type_style_index_1_scoped_d3198c53_lang-c8ddfb98.js";import"./useDataStore-d37a8ed6.js";import"./_baseGetTag-92f65be8.js";const L={class:"content-header row mb-1"},M={class:"col-12 d-flex align-items-center justify-content-between"},O=t("h2",{class:"float-start mb-0"},"Category List",-1),U=["href"],J=t("span",null,"Add New Advised",-1),P={class:"app-user-list"},q={class:"card"},E={class:"card-datatable table-responsive pt-0 px-2"},R={class:"d-flex align-items-center justify-content-between border-bottom"},W={class:"select-search-area d-flex align-items-center"},Y=t("option",{value:void 0},"10",-1),G=t("option",{value:"25"},"25",-1),H=t("option",{value:"50"},"50",-1),K=t("option",{value:"100"},"100",-1),Q=[Y,G,H,K],X={class:"d-flex align-items-center justify-content-center justify-content-lg-end flex-lg-nowrap flex-wrap"},Z={class:"select-search-area"},tt={class:"category-list-table table"},et=t("thead",{class:"table-light"},[t("tr",{class:"null"},[t("th",{class:"sorting"},"Id"),t("th",{class:"sorting"},"Thumb"),t("th",{class:"sorting"},"Title"),t("th",{class:"sorting"},"Discount"),t("th",{class:"sorting"},"Created At"),t("td",{colspan:"sorting"},"Status"),t("th",{class:"sorting"})])],-1),st=["src"],ot={class:"position-relative"},at={class:"badge bg-gradient-primary"},nt={key:0,class:"text-success"},lt={key:1,class:"text-danger"},it=["href"],rt=["onClick"],xt={__name:"Index",props:{advised:[]|null,main_url:String,filters:Object},setup(o){const c=o,b=z(),d=h(),u=h();return x([d,u],I(function([_,a]){k.Inertia.get(c.main_url,{search:_,perPage:a},{preserveState:!0,replace:!0})},300)),h(),(_,a)=>{const r=w("vue-feather"),y=N("c-tooltip");return s(),S(A,null,{default:C(()=>[t("div",L,[t("div",M,[O,t("a",{href:_.$page.props.auth.ADMIN_URL+"/advised",class:"btn btn-sm btn-gradient-primary d-flex align-items-center"},[n(r,{type:"plus",size:"15"}),J],8,U)])]),t("section",P,[t("div",q,[t("div",E,[t("div",R,[t("div",W,[p(t("select",{class:"form-select","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e)},Q,512),[[D,u.value]])]),t("div",X,[t("div",Z,[t("label",null,[m("Search "),p(t("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),type:"search",class:"form-control",placeholder:"What You Find ?","aria-controls":"DataTables_Table_0"},null,512),[[T,d.value]])])])])]),t("table",tt,[et,t("tbody",null,[(s(!0),l(j,null,V(o.advised.data,e=>{var f,g;return s(),l("tr",{key:e.id},[t("td",null,"#_"+i(e.id),1),t("td",null,[e.image?(s(),l("img",{key:0,src:e.image,height:"200",width:"300",alt:""},null,8,st)):$("",!0)]),t("td",ot,[m(i(e.title)+" ",1),p((s(),l("span",at,[m(i((f=JSON.parse(e.products))==null?void 0:f.length),1)])),[[y,((g=JSON.parse(e.products))==null?void 0:g.length)+" products under this ads"]])]),t("td",null,i(e.discount_price??0)+" "+i(e.discount_type==="flat"?"à§³":"%"),1),t("td",null,i(v(F)(e.created_at).format("lll")),1),t("td",null,[e.status===1?(s(),l("span",nt,[n(r,{type:"check-circle"})])):(s(),l("span",lt,[n(r,{type:"x-circle"})]))]),t("td",null,[t("a",{href:`${c.main_url}/${e.id}`,target:"_blank",class:"text-primary cursor-pointer"},[n(r,{type:"edit",size:"15"})],8,it),t("span",{class:"text-danger cursor-pointer ms-1",onClick:ct=>v(b).deleteItem(c.main_url,e.id)},[n(r,{type:"trash",size:"15"})],8,rt)])])}),128))])]),n(B,{links:o.advised.links,from:o.advised.from,to:o.advised.to,total:o.advised.total},null,8,["links","from","to","total"])])])])]),_:1})}}};export{xt as default};
